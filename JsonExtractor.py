import json

payloadTemperatureAndPulse = '{"locationUuid":"c5854fd7-3f12-11e4-adec-0800271c1b75","patientUuid":"feb7880c-c1b7-440c-ad87-38404c9c4f7a","encounterUuid":"ed963a46-e315-480c-b7df-df886a9130d1","visitUuid":"258aa781-2759-49f8-b33c-6f84f041c042","providers":[{"uuid":"c1c26908-3f10-11e4-adec-0800271c1b75","name":"Super Man","encounterRoleUuid":"a0b03050-c99b-11e0-9572-0800200c9a66"}],"encounterDateTime":"2016-09-19T12:35:00.000+0000","extensions":{"mdrtbSpecimen":[]},"context":{},"visitType":"OPD","bahmniDiagnoses":[],"orders":[],"drugOrders":[],"disposition":null,"observations":[{"concept":{"uuid":"c36a7537-3f10-11e4-adec-0800271c1b75","name":"Vitals","dataType":"N/A"},"units":null,"label":"Vitals","possibleAnswers":[],"groupMembers":[{"concept":{"uuid":"c36af094-3f10-11e4-adec-0800271c1b75","name":"Pulse Data","dataType":"N/A"},"units":null,"label":"Pulse","possibleAnswers":[],"groupMembers":[{"concept":{"uuid":"c36bc411-3f10-11e4-adec-0800271c1b75","name":"Pulse","dataType":"Numeric"},"units":"/min","label":"Pulse","possibleAnswers":[],"groupMembers":[],"comment":null,"isObservation":true,"conceptUIConfig":[],"uniqueId":"observation_22","erroneousValue":false,"value":"123","autocompleteValue":"123","__prevValue":"12","_value":"123","voided":false,"observationDateTime":null},{"concept":{"uuid":"c36c7c98-3f10-11e4-adec-0800271c1b75","name":"Pulse Abnormal","dataType":"Boolean"},"units":null,"label":"Pulse Abnormal","possibleAnswers":[],"groupMembers":[],"comment":null,"isObservation":true,"conceptUIConfig":{"All Observation Templates":{"showPanelView":false},"Chief Complaint Data":{"autocomplete":true,"codedConceptName":"Chief Complaint","nonCodedConceptName":"Non-Coded Chief Complaint","durationRequired":false,"allowAddMore":true},"Posture":{"buttonSelect":true},"P/A Presenting Part":{"multiSelect":true},"FHS":{"buttonSelect":true},"P/S (Per Speculum) - Cervix":{"grid":true},"Anaemia, Stopped Since When":{"conciseText":true},"Examination Notes":{"conciseText":true},"Tuberculosis Intake Template":{"computeDrugs":true},"Set1":{"allowAddMore":true},"Set2":{"allowAddMore":true},"Coded3":{"multiSelect":true},"Image":{"allowAddMore":true},"Gynaecology, Gravida":{"stepper":true},"Accepted Family Planning methods":{"multiSelect":true},"defaults":{"Number of living children":1,"Accepted Family Planning methods":["Condoms","Pills"],"Pain management given":true,"Safe Abortion, Remarks":"Remarks","Malaria, Death Date":"2015-12-01"}},"uniqueId":"observation_23","erroneousValue":false,"value":true,"isBoolean":true,"voided":false}],"comment":null,"conceptUIConfig":{},"value":"123","primaryObs":{"concept":{"uuid":"c36bc411-3f10-11e4-adec-0800271c1b75","name":"Pulse","shortName":"Pulse","description":null,"set":false,"dataType":"Numeric","hiAbsolute":null,"lowAbsolute":null,"hiNormal":72,"handler":null,"allowDecimal":true,"lowNormal":72,"conceptClass":"Misc","answers":[],"units":"/min","displayString":"Pulse","names":[{"display":"Pulse","uuid":"c36bc8ad-3f10-11e4-adec-0800271c1b75","name":"Pulse","locale":"en","localePreferred":false,"conceptNameType":"SHORT","links":[{"rel":"self","uri":"http://192.168.33.10/openmrs/ws/rest/v1/concept/c36bc411-3f10-11e4-adec-0800271c1b75/name/c36bc8ad-3f10-11e4-adec-0800271c1b75"},{"rel":"full","uri":"http://192.168.33.10/openmrs/ws/rest/v1/concept/c36bc411-3f10-11e4-adec-0800271c1b75/name/c36bc8ad-3f10-11e4-adec-0800271c1b75?v=full"}],"resourceVersion":"1.9"},{"display":"Pulse","uuid":"c36bcba8-3f10-11e4-adec-0800271c1b75","name":"Pulse","locale":"en","localePreferred":true,"conceptNameType":"FULLY_SPECIFIED","links":[{"rel":"self","uri":"http://192.168.33.10/openmrs/ws/rest/v1/concept/c36bc411-3f10-11e4-adec-0800271c1b75/name/c36bcba8-3f10-11e4-adec-0800271c1b75"},{"rel":"full","uri":"http://192.168.33.10/openmrs/ws/rest/v1/concept/c36bc411-3f10-11e4-adec-0800271c1b75/name/c36bcba8-3f10-11e4-adec-0800271c1b75?v=full"}],"resourceVersion":"1.9"}]},"units":"/min","label":"Pulse","possibleAnswers":[],"groupMembers":[],"comment":null,"isObservation":true,"conceptUIConfig":[],"uniqueId":"observation_22","erroneousValue":false,"value":"123","autocompleteValue":"123","__prevValue":"12","_value":"123","voided":false,"observationDateTime":null},"isObservationNode":true,"uniqueId":"observation_24","abnormalObs":{"concept":{"uuid":"c36c7c98-3f10-11e4-adec-0800271c1b75","name":"Pulse Abnormal","shortName":"Pulse Abnormal","description":null,"set":false,"dataType":"Boolean","hiAbsolute":null,"lowAbsolute":null,"hiNormal":null,"handler":null,"allowDecimal":null,"lowNormal":null,"conceptClass":"Abnormal","answers":[],"units":null,"displayString":"Pulse Abnormal","names":[{"display":"Pulse Abnormal","uuid":"c36c8007-3f10-11e4-adec-0800271c1b75","name":"Pulse Abnormal","locale":"en","localePreferred":false,"conceptNameType":"SHORT","links":[{"rel":"self","uri":"http://192.168.33.10/openmrs/ws/rest/v1/concept/c36c7c98-3f10-11e4-adec-0800271c1b75/name/c36c8007-3f10-11e4-adec-0800271c1b75"},{"rel":"full","uri":"http://192.168.33.10/openmrs/ws/rest/v1/concept/c36c7c98-3f10-11e4-adec-0800271c1b75/name/c36c8007-3f10-11e4-adec-0800271c1b75?v=full"}],"resourceVersion":"1.9"},{"display":"Pulse Abnormal","uuid":"c36c82d6-3f10-11e4-adec-0800271c1b75","name":"Pulse Abnormal","locale":"en","localePreferred":true,"conceptNameType":"FULLY_SPECIFIED","links":[{"rel":"self","uri":"http://192.168.33.10/openmrs/ws/rest/v1/concept/c36c7c98-3f10-11e4-adec-0800271c1b75/name/c36c82d6-3f10-11e4-adec-0800271c1b75"},{"rel":"full","uri":"http://192.168.33.10/openmrs/ws/rest/v1/concept/c36c7c98-3f10-11e4-adec-0800271c1b75/name/c36c82d6-3f10-11e4-adec-0800271c1b75?v=full"}],"resourceVersion":"1.9"}]},"units":null,"label":"Pulse Abnormal","possibleAnswers":[],"groupMembers":[],"comment":null,"isObservation":true,"conceptUIConfig":{"All Observation Templates":{"showPanelView":false},"Chief Complaint Data":{"autocomplete":true,"codedConceptName":"Chief Complaint","nonCodedConceptName":"Non-Coded Chief Complaint","durationRequired":false,"allowAddMore":true},"Posture":{"buttonSelect":true},"P/A Presenting Part":{"multiSelect":true},"FHS":{"buttonSelect":true},"P/S (Per Speculum) - Cervix":{"grid":true},"Anaemia, Stopped Since When":{"conciseText":true},"Examination Notes":{"conciseText":true},"Tuberculosis Intake Template":{"computeDrugs":true},"Set1":{"allowAddMore":true},"Set2":{"allowAddMore":true},"Coded3":{"multiSelect":true},"Image":{"allowAddMore":true},"Gynaecology, Gravida":{"stepper":true},"Accepted Family Planning methods":{"multiSelect":true},"defaults":{"Number of living children":1,"Accepted Family Planning methods":["Condoms","Pills"],"Pain management given":true,"Safe Abortion, Remarks":"Remarks","Malaria, Death Date":"2015-12-01"}},"uniqueId":"observation_23","erroneousValue":false,"value":true,"isBoolean":true},"showComment":false,"disabled":false,"voided":false},{"concept":{"uuid":"c37afa71-3f10-11e4-adec-0800271c1b75","name":"Temperature Data","dataType":"N/A"},"units":null,"label":"Temperature","possibleAnswers":[],"groupMembers":[{"concept":{"uuid":"c37bd733-3f10-11e4-adec-0800271c1b75","name":"Temperature","dataType":"Numeric"},"units":"F","label":"Temperature","possibleAnswers":[],"groupMembers":[],"comment":null,"isObservation":true,"conceptUIConfig":[],"uniqueId":"observation_31","erroneousValue":false,"uuid":"7b3493ff-cbbb-4b85-a206-db64b37bab04","value":"97","observationDateTime":null,"autocompleteValue":"97","__prevValue":"9","_value":"97","voided":false},{"concept":{"uuid":"c37c942d-3f10-11e4-adec-0800271c1b75","name":"Temperature Abnormal","dataType":"Boolean"},"units":null,"label":"Temperature Abnormal","possibleAnswers":[],"groupMembers":[],"comment":null,"isObservation":true,"conceptUIConfig":{"All Observation Templates":{"showPanelView":false},"Chief Complaint Data":{"autocomplete":true,"codedConceptName":"Chief Complaint","nonCodedConceptName":"Non-Coded Chief Complaint","durationRequired":false,"allowAddMore":true},"Posture":{"buttonSelect":true},"P/A Presenting Part":{"multiSelect":true},"FHS":{"buttonSelect":true},"P/S (Per Speculum) - Cervix":{"grid":true},"Anaemia, Stopped Since When":{"conciseText":true},"Examination Notes":{"conciseText":true},"Tuberculosis Intake Template":{"computeDrugs":true},"Set1":{"allowAddMore":true},"Set2":{"allowAddMore":true},"Coded3":{"multiSelect":true},"Image":{"allowAddMore":true},"Gynaecology, Gravida":{"stepper":true},"Accepted Family Planning methods":{"multiSelect":true},"defaults":{"Number of living children":1,"Accepted Family Planning methods":["Condoms","Pills"],"Pain management given":true,"Safe Abortion, Remarks":"Remarks","Malaria, Death Date":"2015-12-01"}},"uniqueId":"observation_32","erroneousValue":false,"uuid":"db51d5f7-87bf-4423-a30c-4a754a55eba1","value":true,"observationDateTime":"2016-09-19T12:35:00.000+0000","autocompleteValue":true,"isBoolean":true,"voided":false}],"comment":null,"conceptUIConfig":{},"value":"97","primaryObs":{"concept":{"uuid":"c37bd733-3f10-11e4-adec-0800271c1b75","name":"Temperature","shortName":"Temperature","description":null,"set":false,"dataType":"Numeric","hiAbsolute":null,"lowAbsolute":null,"hiNormal":98.6,"handler":null,"allowDecimal":true,"lowNormal":98.6,"conceptClass":"Misc","answers":[],"units":"F","displayString":"Temperature","names":[{"display":"Temperature","uuid":"c37bdb8e-3f10-11e4-adec-0800271c1b75","name":"Temperature","locale":"en","localePreferred":false,"conceptNameType":"SHORT","links":[{"rel":"self","uri":"http://192.168.33.10/openmrs/ws/rest/v1/concept/c37bd733-3f10-11e4-adec-0800271c1b75/name/c37bdb8e-3f10-11e4-adec-0800271c1b75"},{"rel":"full","uri":"http://192.168.33.10/openmrs/ws/rest/v1/concept/c37bd733-3f10-11e4-adec-0800271c1b75/name/c37bdb8e-3f10-11e4-adec-0800271c1b75?v=full"}],"resourceVersion":"1.9"},{"display":"Temperature","uuid":"c37bdec5-3f10-11e4-adec-0800271c1b75","name":"Temperature","locale":"en","localePreferred":true,"conceptNameType":"FULLY_SPECIFIED","links":[{"rel":"self","uri":"http://192.168.33.10/openmrs/ws/rest/v1/concept/c37bd733-3f10-11e4-adec-0800271c1b75/name/c37bdec5-3f10-11e4-adec-0800271c1b75"},{"rel":"full","uri":"http://192.168.33.10/openmrs/ws/rest/v1/concept/c37bd733-3f10-11e4-adec-0800271c1b75/name/c37bdec5-3f10-11e4-adec-0800271c1b75?v=full"}],"resourceVersion":"1.9"}]},"units":"F","label":"Temperature","possibleAnswers":[],"groupMembers":[],"comment":null,"isObservation":true,"conceptUIConfig":[],"uniqueId":"observation_31","erroneousValue":false,"uuid":"7b3493ff-cbbb-4b85-a206-db64b37bab04","value":"97","observationDateTime":null,"autocompleteValue":"97","__prevValue":"9","_value":"97","voided":false},"isObservationNode":true,"uniqueId":"observation_33","abnormalObs":{"concept":{"uuid":"c37c942d-3f10-11e4-adec-0800271c1b75","name":"Temperature Abnormal","shortName":"Temperature Abnormal","description":null,"set":false,"dataType":"Boolean","hiAbsolute":null,"lowAbsolute":null,"hiNormal":null,"handler":null,"allowDecimal":null,"lowNormal":null,"conceptClass":"Abnormal","answers":[],"units":null,"displayString":"Temperature Abnormal","names":[{"display":"Temperature Abnormal","uuid":"c37c9ce5-3f10-11e4-adec-0800271c1b75","name":"Temperature Abnormal","locale":"en","localePreferred":true,"conceptNameType":"FULLY_SPECIFIED","links":[{"rel":"self","uri":"http://192.168.33.10/openmrs/ws/rest/v1/concept/c37c942d-3f10-11e4-adec-0800271c1b75/name/c37c9ce5-3f10-11e4-adec-0800271c1b75"},{"rel":"full","uri":"http://192.168.33.10/openmrs/ws/rest/v1/concept/c37c942d-3f10-11e4-adec-0800271c1b75/name/c37c9ce5-3f10-11e4-adec-0800271c1b75?v=full"}],"resourceVersion":"1.9"},{"display":"Temperature Abnormal","uuid":"c37c99b4-3f10-11e4-adec-0800271c1b75","name":"Temperature Abnormal","locale":"en","localePreferred":false,"conceptNameType":"SHORT","links":[{"rel":"self","uri":"http://192.168.33.10/openmrs/ws/rest/v1/concept/c37c942d-3f10-11e4-adec-0800271c1b75/name/c37c99b4-3f10-11e4-adec-0800271c1b75"},{"rel":"full","uri":"http://192.168.33.10/openmrs/ws/rest/v1/concept/c37c942d-3f10-11e4-adec-0800271c1b75/name/c37c99b4-3f10-11e4-adec-0800271c1b75?v=full"}],"resourceVersion":"1.9"}]},"units":null,"label":"Temperature Abnormal","possibleAnswers":[],"groupMembers":[],"comment":null,"isObservation":true,"conceptUIConfig":{"All Observation Templates":{"showPanelView":false},"Chief Complaint Data":{"autocomplete":true,"codedConceptName":"Chief Complaint","nonCodedConceptName":"Non-Coded Chief Complaint","durationRequired":false,"allowAddMore":true},"Posture":{"buttonSelect":true},"P/A Presenting Part":{"multiSelect":true},"FHS":{"buttonSelect":true},"P/S (Per Speculum) - Cervix":{"grid":true},"Anaemia, Stopped Since When":{"conciseText":true},"Examination Notes":{"conciseText":true},"Tuberculosis Intake Template":{"computeDrugs":true},"Set1":{"allowAddMore":true},"Set2":{"allowAddMore":true},"Coded3":{"multiSelect":true},"Image":{"allowAddMore":true},"Gynaecology, Gravida":{"stepper":true},"Accepted Family Planning methods":{"multiSelect":true},"defaults":{"Number of living children":1,"Accepted Family Planning methods":["Condoms","Pills"],"Pain management given":true,"Safe Abortion, Remarks":"Remarks","Malaria, Death Date":"2015-12-01"}},"uniqueId":"observation_32","erroneousValue":false,"uuid":"db51d5f7-87bf-4423-a30c-4a754a55eba1","value":true,"observationDateTime":"2016-09-19T12:35:00.000+0000","autocompleteValue":true,"isBoolean":true},"markedAsNonCoded":"7b3493ff-cbbb-4b85-a206-db64b37bab04","uuid":"b20f26b2-77f1-496c-8314-33064625e5ac","observationDateTime":"2016-09-19T12:35:00.000+0000","showComment":false,"disabled":false,"voided":false}],"comment":null,"isObservation":true,"conceptUIConfig":[],"uniqueId":"observation_42","erroneousValue":null,"uuid":"ab5fb12f-6018-4e90-8b54-bd03caca6abd","value":"99.0, true","observationDateTime":"2016-09-19T12:35:00.000+0000","autocompleteValue":"99.0, true","conceptSetName":"Vitals","voided":false}],"encounterTypeUuid":"81852aee-3f10-11e4-adec-0800271c1b75"}'

payloadTemperature = '{"locationUuid":"c5854fd7-3f12-11e4-adec-0800271c1b75","patientUuid":"65581190-7748-48b2-9774-a3f3bbecbfd7","encounterUuid":null,"visitUuid":null,"providers":[{"uuid":"c1c26908-3f10-11e4-adec-0800271c1b75"}],"encounterDateTime":null,"extensions":{"mdrtbSpecimen":[]},"context":{},"visitType":"OPD","bahmniDiagnoses":[],"orders":[],"drugOrders":[],"disposition":null,"observations":[{"concept":{"uuid":"c36a7537-3f10-11e4-adec-0800271c1b75","name":"Vitals","dataType":"N/A"},"units":null,"label":"Vitals","possibleAnswers":[],"groupMembers":[{"concept":{"uuid":"c37afa71-3f10-11e4-adec-0800271c1b75","name":"Temperature Data","dataType":"N/A"},"units":null,"label":"Temperature","possibleAnswers":[],"groupMembers":[{"concept":{"uuid":"c37bd733-3f10-11e4-adec-0800271c1b75","name":"Temperature","dataType":"Numeric"},"units":"F","label":"Temperature","possibleAnswers":[],"groupMembers":[],"comment":null,"isObservation":true,"conceptUIConfig":[],"uniqueId":"observation_10","erroneousValue":false,"value":"24.5","autocompleteValue":"24.5","__prevValue":"24","_value":"24.5","voided":false,"observationDateTime":null},{"concept":{"uuid":"c37c942d-3f10-11e4-adec-0800271c1b75","name":"Temperature Abnormal","dataType":"Boolean"},"units":null,"label":"Temperature Abnormal","possibleAnswers":[],"groupMembers":[],"comment":null,"isObservation":true,"conceptUIConfig":{"All Observation Templates":{"showPanelView":false},"Chief Complaint Data":{"autocomplete":true,"codedConceptName":"Chief Complaint","nonCodedConceptName":"Non-Coded Chief Complaint","durationRequired":false,"allowAddMore":true},"Posture":{"buttonSelect":true},"P/A Presenting Part":{"multiSelect":true},"FHS":{"buttonSelect":true},"P/S (Per Speculum) - Cervix":{"grid":true},"Anaemia, Stopped Since When":{"conciseText":true},"Examination Notes":{"conciseText":true},"Tuberculosis Intake Template":{"computeDrugs":true},"Set1":{"allowAddMore":true},"Set2":{"allowAddMore":true},"Coded3":{"multiSelect":true},"Image":{"allowAddMore":true},"Gynaecology, Gravida":{"stepper":true},"Accepted Family Planning methods":{"multiSelect":true},"defaults":{"Number of living children":1,"Accepted Family Planning methods":["Condoms","Pills"],"Pain management given":true,"Safe Abortion, Remarks":"Remarks","Malaria, Death Date":"2015-12-01"}},"uniqueId":"observation_11","erroneousValue":false,"value":true,"isBoolean":true,"voided":false}],"comment":null,"conceptUIConfig":{},"value":"24.5","primaryObs":{"concept":{"uuid":"c37bd733-3f10-11e4-adec-0800271c1b75","name":"Temperature","shortName":"Temperature","description":null,"set":false,"dataType":"Numeric","hiAbsolute":null,"lowAbsolute":null,"hiNormal":98.6,"handler":null,"allowDecimal":true,"lowNormal":98.6,"conceptClass":"Misc","answers":[],"units":"F","displayString":"Temperature","names":[{"display":"Temperature","uuid":"c37bdb8e-3f10-11e4-adec-0800271c1b75","name":"Temperature","locale":"en","localePreferred":false,"conceptNameType":"SHORT","links":[{"rel":"self","uri":"http://192.168.33.10/openmrs/ws/rest/v1/concept/c37bd733-3f10-11e4-adec-0800271c1b75/name/c37bdb8e-3f10-11e4-adec-0800271c1b75"},{"rel":"full","uri":"http://192.168.33.10/openmrs/ws/rest/v1/concept/c37bd733-3f10-11e4-adec-0800271c1b75/name/c37bdb8e-3f10-11e4-adec-0800271c1b75?v=full"}],"resourceVersion":"1.9"},{"display":"Temperature","uuid":"c37bdec5-3f10-11e4-adec-0800271c1b75","name":"Temperature","locale":"en","localePreferred":true,"conceptNameType":"FULLY_SPECIFIED","links":[{"rel":"self","uri":"http://192.168.33.10/openmrs/ws/rest/v1/concept/c37bd733-3f10-11e4-adec-0800271c1b75/name/c37bdec5-3f10-11e4-adec-0800271c1b75"},{"rel":"full","uri":"http://192.168.33.10/openmrs/ws/rest/v1/concept/c37bd733-3f10-11e4-adec-0800271c1b75/name/c37bdec5-3f10-11e4-adec-0800271c1b75?v=full"}],"resourceVersion":"1.9"}]},"units":"F","label":"Temperature","possibleAnswers":[],"groupMembers":[],"comment":null,"isObservation":true,"conceptUIConfig":[],"uniqueId":"observation_10","erroneousValue":false,"value":"24.5","autocompleteValue":"24.5","__prevValue":"24","_value":"24.5","voided":false,"observationDateTime":null},"isObservationNode":true,"uniqueId":"observation_12","abnormalObs":{"concept":{"uuid":"c37c942d-3f10-11e4-adec-0800271c1b75","name":"Temperature Abnormal","shortName":"Temperature Abnormal","description":null,"set":false,"dataType":"Boolean","hiAbsolute":null,"lowAbsolute":null,"hiNormal":null,"handler":null,"allowDecimal":null,"lowNormal":null,"conceptClass":"Abnormal","answers":[],"units":null,"displayString":"Temperature Abnormal","names":[{"display":"Temperature Abnormal","uuid":"c37c9ce5-3f10-11e4-adec-0800271c1b75","name":"Temperature Abnormal","locale":"en","localePreferred":true,"conceptNameType":"FULLY_SPECIFIED","links":[{"rel":"self","uri":"http://192.168.33.10/openmrs/ws/rest/v1/concept/c37c942d-3f10-11e4-adec-0800271c1b75/name/c37c9ce5-3f10-11e4-adec-0800271c1b75"},{"rel":"full","uri":"http://192.168.33.10/openmrs/ws/rest/v1/concept/c37c942d-3f10-11e4-adec-0800271c1b75/name/c37c9ce5-3f10-11e4-adec-0800271c1b75?v=full"}],"resourceVersion":"1.9"},{"display":"Temperature Abnormal","uuid":"c37c99b4-3f10-11e4-adec-0800271c1b75","name":"Temperature Abnormal","locale":"en","localePreferred":false,"conceptNameType":"SHORT","links":[{"rel":"self","uri":"http://192.168.33.10/openmrs/ws/rest/v1/concept/c37c942d-3f10-11e4-adec-0800271c1b75/name/c37c99b4-3f10-11e4-adec-0800271c1b75"},{"rel":"full","uri":"http://192.168.33.10/openmrs/ws/rest/v1/concept/c37c942d-3f10-11e4-adec-0800271c1b75/name/c37c99b4-3f10-11e4-adec-0800271c1b75?v=full"}],"resourceVersion":"1.9"}]},"units":null,"label":"Temperature Abnormal","possibleAnswers":[],"groupMembers":[],"comment":null,"isObservation":true,"conceptUIConfig":{"All Observation Templates":{"showPanelView":false},"Chief Complaint Data":{"autocomplete":true,"codedConceptName":"Chief Complaint","nonCodedConceptName":"Non-Coded Chief Complaint","durationRequired":false,"allowAddMore":true},"Posture":{"buttonSelect":true},"P/A Presenting Part":{"multiSelect":true},"FHS":{"buttonSelect":true},"P/S (Per Speculum) - Cervix":{"grid":true},"Anaemia, Stopped Since When":{"conciseText":true},"Examination Notes":{"conciseText":true},"Tuberculosis Intake Template":{"computeDrugs":true},"Set1":{"allowAddMore":true},"Set2":{"allowAddMore":true},"Coded3":{"multiSelect":true},"Image":{"allowAddMore":true},"Gynaecology, Gravida":{"stepper":true},"Accepted Family Planning methods":{"multiSelect":true},"defaults":{"Number of living children":1,"Accepted Family Planning methods":["Condoms","Pills"],"Pain management given":true,"Safe Abortion, Remarks":"Remarks","Malaria, Death Date":"2015-12-01"}},"uniqueId":"observation_11","erroneousValue":false,"value":true,"isBoolean":true},"showComment":false,"disabled":false,"voided":false}],"comment":null,"isObservation":true,"conceptUIConfig":[],"uniqueId":"observation_21","erroneousValue":null,"conceptSetName":"Vitals","voided":false}],"encounterTypeUuid":"81852aee-3f10-11e4-adec-0800271c1b75"}'

def getObservationValue(key, jsonString=payloadTemperatureAndPulse):
    payload = json.loads(jsonString)
    for observation in payload['observations']:
        if observation.get('label') == "Vitals":
            for member in observation['groupMembers']:
                if member['label'] == key:
                    return member['value']


# Need to set values at key = 'Pulse'
# 		'observations' \ groupMembers(where label=key) \ value
# 		'observations' \ groupMembers(where label=key) \ groupMembers \ value
# 		'observations' \ groupMembers(where label=key) \ groupMembers \ _value
# 		'observations' \ groupMembers(where label=key) \ groupMembers \ autocompleteValue
# 		'observations' \ groupMembers(where label=key) \ primaryObs \ value
# 		'observations' \ groupMembers(where label=key) \ primaryObs \ _value
# 		'observations' \ groupMembers(where label=key) \ primaryObs \ autocompleteValue
def setObservationValue(uuid, key, value, payloadStr=payloadTemperatureAndPulse):
    payload = json.loads(payloadStr)
    payload['patientUuid'] = uuid
    for observation in payload['observations']:
        if observation['label'] == "Vitals":
            for member in observation['groupMembers']:
                if member['label'] == key:
                    member['value'] = value
                    for innerMember in member['groupMembers']:
                        innerMember['value'] = value
                        innerMember['_value'] = value
                        innerMember['autocompleteValue'] = value
                    primaryObs = member['primaryObs']
                    primaryObs['value'] = value
                    primaryObs['_value'] = value
                    primaryObs['autocompleteValue'] = value
            return json.dumps(payload)


# print getObservationValue('Temperature')
# print getObservationValue('Pulse')
#
# print setObservationValue('Pulse', 101)
